{"filename":"src/lib/mina_wire_types/staged_ledger_diff/staged_ledger_diff_diff.ml","lines":[{"line":"open Utils","counters":[]},{"line":"","counters":[]},{"line":"module Types = struct","counters":[]},{"line":"  module type S = sig","counters":[]},{"line":"    module At_most_two : sig","counters":[]},{"line":"      module V1 : sig","counters":[]},{"line":"        type 'a t = Zero | One of 'a option | Two of ('a * 'a option) option","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Pre_diff_two : sig","counters":[]},{"line":"      module V2 : sig","counters":[]},{"line":"        type ('a, 'b) t =","counters":[]},{"line":"          { completed_works : 'a list","counters":[]},{"line":"          ; commands : 'b list","counters":[]},{"line":"          ; coinbase : Mina_base_coinbase_fee_transfer.V1.t At_most_two.V1.t","counters":[]},{"line":"          ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"          }","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Pre_diff_with_at_most_two_coinbase : sig","counters":[]},{"line":"      module V2 : sig","counters":[]},{"line":"        type t =","counters":[]},{"line":"          ( Transaction_snark_work.V2.t","counters":[]},{"line":"          , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"          Pre_diff_two.V2.t","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module At_most_one : sig","counters":[]},{"line":"      module V1 : sig","counters":[]},{"line":"        type 'a t = Zero | One of 'a option","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Pre_diff_one : sig","counters":[]},{"line":"      module V2 : sig","counters":[]},{"line":"        type ('a, 'b) t =","counters":[]},{"line":"          { completed_works : 'a list","counters":[]},{"line":"          ; commands : 'b list","counters":[]},{"line":"          ; coinbase : Mina_base_coinbase_fee_transfer.V1.t At_most_one.V1.t","counters":[]},{"line":"          ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"          }","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Pre_diff_with_at_most_one_coinbase : sig","counters":[]},{"line":"      module V2 : sig","counters":[]},{"line":"        type t =","counters":[]},{"line":"          ( Transaction_snark_work.V2.t","counters":[]},{"line":"          , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"          Pre_diff_one.V2.t","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Diff : sig","counters":[]},{"line":"      module V2 : sig","counters":[]},{"line":"        type t =","counters":[]},{"line":"          Pre_diff_with_at_most_two_coinbase.V2.t","counters":[]},{"line":"          * Pre_diff_with_at_most_one_coinbase.V2.t option","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type t = { diff : Diff.V2.t }","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module type Concrete = sig","counters":[]},{"line":"  module Ft : sig","counters":[]},{"line":"    module Stable : sig","counters":[]},{"line":"      module V1 : sig","counters":[]},{"line":"        type t = Mina_base_coinbase_fee_transfer.V1.t","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module At_most_two : sig","counters":[]},{"line":"    module V1 : sig","counters":[]},{"line":"      type 'a t = Zero | One of 'a option | Two of ('a * 'a option) option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_two : sig","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type ('a, 'b) t =","counters":[]},{"line":"        { completed_works : 'a list","counters":[]},{"line":"        ; commands : 'b list","counters":[]},{"line":"        ; coinbase : Mina_base_coinbase_fee_transfer.V1.t At_most_two.V1.t","counters":[]},{"line":"        ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"        }","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_with_at_most_two_coinbase : sig","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type t =","counters":[]},{"line":"        ( Transaction_snark_work.V2.t","counters":[]},{"line":"        , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"        Pre_diff_two.V2.t","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module At_most_one : sig","counters":[]},{"line":"    module V1 : sig","counters":[]},{"line":"      type 'a t = Zero | One of 'a option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_one : sig","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type ('a, 'b) t =","counters":[]},{"line":"        { completed_works : 'a list","counters":[]},{"line":"        ; commands : 'b list","counters":[]},{"line":"        ; coinbase : Ft.Stable.V1.t At_most_one.V1.t","counters":[]},{"line":"        ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"        }","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_with_at_most_one_coinbase : sig","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type t =","counters":[]},{"line":"        ( Transaction_snark_work.V2.t","counters":[]},{"line":"        , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"        Pre_diff_one.V2.t","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Diff : sig","counters":[]},{"line":"    module V2 : sig","counters":[]},{"line":"      type t =","counters":[]},{"line":"        Pre_diff_with_at_most_two_coinbase.V2.t","counters":[]},{"line":"        * Pre_diff_with_at_most_one_coinbase.V2.t option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module V2 : sig","counters":[]},{"line":"    type t = { diff : Diff.V2.t }","counters":[]},{"line":"  end","counters":[]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module M = struct","counters":[]},{"line":"  module Ft = struct","counters":[]},{"line":"    module Stable = struct","counters":[]},{"line":"      module V1 = struct","counters":[]},{"line":"        type t = Mina_base_coinbase_fee_transfer.V1.t","counters":[]},{"line":"      end","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module At_most_two = struct","counters":[]},{"line":"    module V1 = struct","counters":[]},{"line":"      type 'a t = Zero | One of 'a option | Two of ('a * 'a option) option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_two = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type ('a, 'b) t =","counters":[]},{"line":"        { completed_works : 'a list","counters":[]},{"line":"        ; commands : 'b list","counters":[]},{"line":"        ; coinbase : Mina_base_coinbase_fee_transfer.V1.t At_most_two.V1.t","counters":[]},{"line":"        ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"        }","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_with_at_most_two_coinbase = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type t =","counters":[]},{"line":"        ( Transaction_snark_work.V2.t","counters":[]},{"line":"        , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"        Pre_diff_two.V2.t","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module At_most_one = struct","counters":[]},{"line":"    module V1 = struct","counters":[]},{"line":"      type 'a t = Zero | One of 'a option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_one = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type ('a, 'b) t =","counters":[]},{"line":"        { completed_works : 'a list","counters":[]},{"line":"        ; commands : 'b list","counters":[]},{"line":"        ; coinbase : Ft.Stable.V1.t At_most_one.V1.t","counters":[]},{"line":"        ; internal_command_statuses : Mina_base_transaction_status.V2.t list","counters":[]},{"line":"        }","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Pre_diff_with_at_most_one_coinbase = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type t =","counters":[]},{"line":"        ( Transaction_snark_work.V2.t","counters":[]},{"line":"        , Mina_base_user_command.V2.t Mina_base_with_status.V2.t )","counters":[]},{"line":"        Pre_diff_one.V2.t","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module Diff = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type t =","counters":[]},{"line":"        Pre_diff_with_at_most_two_coinbase.V2.t","counters":[]},{"line":"        * Pre_diff_with_at_most_one_coinbase.V2.t option","counters":[]},{"line":"    end","counters":[]},{"line":"  end","counters":[]},{"line":"","counters":[]},{"line":"  module V2 = struct","counters":[]},{"line":"    type t = { diff : Diff.V2.t }","counters":[]},{"line":"  end","counters":[]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module type Local_sig = Signature(Types).S","counters":[]},{"line":"","counters":[]},{"line":"module Make","counters":[]},{"line":"    (Signature : Local_sig) (F : functor (A : Concrete) -> Signature(A).S) =","counters":[]},{"line":"  F (M)","counters":[]},{"line":"include M","counters":[]}]}