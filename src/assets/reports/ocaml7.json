{"filename":"src/lib/mina_ledger/sync_ledger.ml","lines":[{"line":"open Core_kernel","counters":[]},{"line":"open Mina_base","counters":[]},{"line":"","counters":[]},{"line":"module Hash = struct","counters":[]},{"line":"  include Ledger_hash.Stable.V1","counters":[]},{"line":"","counters":[]},{"line":"  let to_base58_check = Ledger_hash.to_base58_check","counters":[]},{"line":"","counters":[]},{"line":"  let merge = Ledger_hash.merge","counters":[]},{"line":"","counters":[]},{"line":"  let hash_account = Fn.compose Ledger_hash.of_digest Account.digest","counters":[{"col_start":30,"col_end":30,"count":1}]},{"line":"","counters":[]},{"line":"  let empty_account = Ledger_hash.of_digest Account.empty_digest","counters":[{"col_start":42,"col_end":42,"count":1}]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module Root_hash = struct","counters":[]},{"line":"  include Ledger_hash","counters":[]},{"line":"","counters":[]},{"line":"  let to_hash (h : t) = Ledger_hash.of_digest (h :> Random_oracle.Digest.t)","counters":[{"col_start":24,"col_end":24,"count":0}]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module Mask = Syncable_ledger.Make (struct","counters":[]},{"line":"  module Addr = Ledger.Location.Addr","counters":[]},{"line":"  module MT = Ledger","counters":[]},{"line":"  module Account = Account.Stable.Latest","counters":[]},{"line":"  module Hash = Hash","counters":[]},{"line":"  module Root_hash = Root_hash","counters":[]},{"line":"","counters":[]},{"line":"  let account_subtree_height = 3","counters":[]},{"line":"end)","counters":[]},{"line":"","counters":[]},{"line":"module Any_ledger = Syncable_ledger.Make (struct","counters":[]},{"line":"  module Addr = Ledger.Location.Addr","counters":[]},{"line":"  module MT = Ledger.Any_ledger.M","counters":[]},{"line":"  module Account = Account.Stable.Latest","counters":[]},{"line":"  module Hash = Hash","counters":[]},{"line":"  module Root_hash = Root_hash","counters":[]},{"line":"","counters":[]},{"line":"  let account_subtree_height = 3","counters":[]},{"line":"end)","counters":[]},{"line":"","counters":[]},{"line":"module Db = Syncable_ledger.Make (struct","counters":[]},{"line":"  module Addr = Ledger.Db.Addr","counters":[]},{"line":"  module MT = Ledger.Db","counters":[]},{"line":"  module Account = Account.Stable.Latest","counters":[]},{"line":"  module Hash = Hash","counters":[]},{"line":"  module Root_hash = Root_hash","counters":[]},{"line":"","counters":[]},{"line":"  let account_subtree_height = 3","counters":[]},{"line":"end)","counters":[]},{"line":"","counters":[]},{"line":"module Answer = struct","counters":[]},{"line":"  [%%versioned","counters":[]},{"line":"  module Stable = struct","counters":[]},{"line":"    module V2 = struct","counters":[]},{"line":"      type t =","counters":[{"col_start":6,"col_end":6,"count":2},{"col_start":11,"col_end":11,"count":1}]},{"line":"        ( Ledger_hash.Stable.V1.t","counters":[{"col_start":8,"col_end":8,"count":0},{"col_start":10,"col_end":10,"count":0}]},{"line":"        , Account.Stable.V2.t )","counters":[{"col_start":10,"col_end":10,"count":0}]},{"line":"        Syncable_ledger.Answer.Stable.V1.t","counters":[]},{"line":"      [@@deriving sexp, to_yojson]","counters":[{"col_start":33,"col_end":33,"count":5}]},{"line":"","counters":[]},{"line":"      let to_latest = Fn.id","counters":[]},{"line":"    end","counters":[]},{"line":"  end]","counters":[]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"module Query = struct","counters":[]},{"line":"  [%%versioned","counters":[]},{"line":"  module Stable = struct","counters":[]},{"line":"    module V1 = struct","counters":[]},{"line":"      type t =","counters":[{"col_start":6,"col_end":6,"count":2},{"col_start":11,"col_end":11,"count":1}]},{"line":"        Ledger.Location.Addr.Stable.V1.t Syncable_ledger.Query.Stable.V1.t","counters":[{"col_start":8,"col_end":8,"count":0},{"col_start":41,"col_end":41,"count":0}]},{"line":"      [@@deriving sexp, to_yojson, hash, compare]","counters":[{"col_start":48,"col_end":48,"count":5}]},{"line":"","counters":[]},{"line":"      let to_latest = Fn.id","counters":[]},{"line":"    end","counters":[]},{"line":"  end]","counters":[]},{"line":"end","counters":[{"col_start":2,"col_end":2,"count":1}]}]}