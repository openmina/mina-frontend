{"filename":"src/lib/mina_block/internal_transition.ml","lines":[{"line":"open Core_kernel","counters":[]},{"line":"open Mina_state","counters":[]},{"line":"","counters":[]},{"line":"module type S = sig","counters":[]},{"line":"  type t [@@deriving sexp, to_yojson]","counters":[]},{"line":"","counters":[]},{"line":"  module Stable : sig","counters":[]},{"line":"    module V1 : sig","counters":[]},{"line":"      type t [@@deriving sexp, to_yojson, bin_io]","counters":[]},{"line":"    end","counters":[]},{"line":"","counters":[]},{"line":"    module Latest = V1","counters":[]},{"line":"  end","counters":[]},{"line":"  with type V1.t = t","counters":[]},{"line":"","counters":[]},{"line":"  val create :","counters":[]},{"line":"       snark_transition:Snark_transition.Value.t","counters":[]},{"line":"    -> ledger_proof:Ledger_proof.t option","counters":[]},{"line":"    -> prover_state:Consensus.Data.Prover_state.t","counters":[]},{"line":"    -> staged_ledger_diff:Staged_ledger_diff.t","counters":[]},{"line":"    -> t","counters":[]},{"line":"","counters":[]},{"line":"  val snark_transition : t -> Snark_transition.Value.t","counters":[]},{"line":"","counters":[]},{"line":"  val ledger_proof : t -> Ledger_proof.t option","counters":[]},{"line":"","counters":[]},{"line":"  val prover_state : t -> Consensus.Data.Prover_state.t","counters":[]},{"line":"","counters":[]},{"line":"  val staged_ledger_diff : t -> Staged_ledger_diff.t","counters":[]},{"line":"end","counters":[]},{"line":"","counters":[]},{"line":"[%%versioned","counters":[]},{"line":"module Stable = struct","counters":[]},{"line":"  [@@@no_toplevel_latest_type]","counters":[]},{"line":"","counters":[]},{"line":"  module V2 = struct","counters":[]},{"line":"    type t =","counters":[{"col_start":4,"col_end":4,"count":2},{"col_start":9,"col_end":9,"count":2}]},{"line":"      { snark_transition : Snark_transition.Value.Stable.V2.t","counters":[]},{"line":"      ; ledger_proof : Ledger_proof.Stable.V2.t option","counters":[]},{"line":"      ; prover_state : Consensus.Data.Prover_state.Stable.V2.t","counters":[]},{"line":"      ; staged_ledger_diff : Staged_ledger_diff.Stable.V2.t","counters":[]},{"line":"      }","counters":[{"col_start":6,"col_end":6,"count":5}]},{"line":"","counters":[]},{"line":"    let to_latest = Fn.id","counters":[]},{"line":"  end","counters":[]},{"line":"end]","counters":[]},{"line":"","counters":[]},{"line":"(* bin_io, version omitted *)","counters":[]},{"line":"type t = Stable.Latest.t =","counters":[{"col_start":0,"col_end":0,"count":0},{"col_start":5,"col_end":5,"count":0}]},{"line":"  { snark_transition : Snark_transition.Value.t","counters":[{"col_start":4,"col_end":4,"count":0},{"col_start":19,"col_end":19,"count":0},{"col_start":23,"col_end":23,"count":0},{"col_start":46,"col_end":46,"count":0}]},{"line":"  ; ledger_proof : Ledger_proof.t option","counters":[{"col_start":4,"col_end":4,"count":0},{"col_start":15,"col_end":15,"count":0},{"col_start":19,"col_end":19,"count":0},{"col_start":39,"col_end":39,"count":0}]},{"line":"  ; prover_state : Consensus.Data.Prover_state.t","counters":[{"col_start":4,"col_end":4,"count":0},{"col_start":15,"col_end":15,"count":0},{"col_start":19,"col_end":19,"count":0},{"col_start":47,"col_end":47,"count":0}]},{"line":"  ; staged_ledger_diff : Staged_ledger_diff.t","counters":[{"col_start":4,"col_end":4,"count":0},{"col_start":21,"col_end":21,"count":0},{"col_start":25,"col_end":25,"count":0},{"col_start":44,"col_end":44,"count":0}]},{"line":"  }","counters":[]},{"line":"[@@deriving sexp, fields, to_yojson]","counters":[]},{"line":"","counters":[]},{"line":"let create ~snark_transition ~ledger_proof ~prover_state ~staged_ledger_diff =","counters":[]},{"line":"  { Stable.Latest.snark_transition","counters":[{"col_start":2,"col_end":2,"count":0}]},{"line":"  ; ledger_proof","counters":[]},{"line":"  ; staged_ledger_diff","counters":[]},{"line":"  ; prover_state","counters":[]},{"line":"  }","counters":[{"col_start":2,"col_end":2,"count":2}]}]}